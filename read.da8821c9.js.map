{"mappings":"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","sources":["src/js/localStorage.js","<<jsx-config-pragma.js>>","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/newsApiService.js","src/js/changeTheme.js","src/js/refs.js","src/js/renderNews.js","src/js/markupCard.js"],"sourcesContent":["import NewsApiService from './newsApiService';\nconst newsApiService = new NewsApiService();\nexport default class localStorageService {\n  constructor() {\n    this.keySavedFilters = 'Filters';\n    this.FAVORITES_NEWS = 'favorite-news';\n    this.PAGINATION_NEWS = 'pagination-news';\n    this.CLICKED_PAGES = 'clickedPages';\n    this.PAGE_DATA_NEWS = 'pageDataNews';\n    this.CALENDAR_PARAMETERS = 'calendarParameters';\n  }\n  save(key, value) {\n    try {\n      const valueJson = JSON.stringify(value);\n      localStorage.setItem(key, valueJson);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  load(key) {\n    try {\n      const data = localStorage.getItem(key);\n      return data === null ? undefined : JSON.parse(data);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  loadFilters() {\n    return this.load(this.keySavedFilters)\n      ? this.load(this.keySavedFilters)\n      : undefined;\n  }\n  saveDataFilters(date) {\n    let filters = this.loadFilters() ? this.loadFilters() : {};\n    filters.selectedDate = date;\n    this.save(this.keySavedFilters, filters);\n  }\n  saveCategoriesFilters(categories) {\n    let filters = this.loadFilters() ? this.loadFilters() : {};\n    filters.selectedCategories = categories;\n    this.save(this.keySavedFilters, filters);\n  }\n\n  loadDataFilters() {\n    let filters = this.loadFilters();\n    let selectedDate = filters?.selectedDate ? filters.selectedDate : null;\n    return selectedDate;\n  }\n\n  loadCategoriesFilters() {\n    let filters = this.loadFilters();\n    let selectedCategories = filters?.selectedCategories\n      ? filters.selectedCategories.join('\", \"')\n      : '\"\"';\n    return selectedCategories;\n  }\n}\n",null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","const SEARCH_NEWS_URL =\n  'https://api.nytimes.com/svc/search/v2/articlesearch.json';\nconst POPULAR_NEWS_URL = 'https://api.nytimes.com/svc/mostpopular/v2/viewed';\nconst CATEGORIES_LIST_URL =\n  'https://api.nytimes.com/svc/news/v3/content/section-list.json';\nconst POPULAR_NEWS_DAYS = 7;\nconst API_KEY = 'H4EzmbJjzcMKAQjlOxUvVd6TipG3GhzM';\n\nexport default class newsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 0;\n    this.pageNum = 1;\n    this.requestNum = 1;\n  }\n\n  resetData() {\n    this.page = 0;\n    this.pageNum = 1;\n    this.requestNum = 1;\n  }\n\n  getSearchNews() {\n    return fetch(\n      `${SEARCH_NEWS_URL}?q=${this.searchQuery}&page=${this.page}&api-key=${API_KEY}`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n\n  getPopularNews() {\n    return fetch(\n      `${POPULAR_NEWS_URL}/${POPULAR_NEWS_DAYS}.json?api-key=${API_KEY}`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n\n  getlistCategories() {\n    return fetch(`${CATEGORIES_LIST_URL}?api-key=${API_KEY}`).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n\n  getDateAndCategoryNews(selectedDate, selectedCategories) {\n    let SEARCH_BY_DATE = '';\n    let SEARCH_BY_CATEGORIES = '';\n    if (selectedCategories) {\n      SEARCH_BY_CATEGORIES = `&fq=news_desk:(${selectedCategories})`;\n    }\n    SEARCH_BY_DATE =\n      !selectedDate || selectedDate === null\n        ? `?api-key=${API_KEY}&page=${this.page}`\n        : `?facet_field=day_of_week&facet=true&begin_date=${selectedDate}&end_date=${selectedDate}&api-key=${API_KEY}`;\n\n    return fetch(\n      `${SEARCH_NEWS_URL}${SEARCH_BY_DATE}${SEARCH_BY_CATEGORIES}`\n    ).then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.statusText);\n      }\n      return responce.json();\n    });\n  }\n}\n","// Theme switch\nimport { refs } from './refs';\nexport default function changeTheme() {\n  refs.checkBoxEl.addEventListener('change', goDark);\n  goTeal();\n}\nconst theme = {\n  light: 'light-theme',\n  dark: 'dark-theme',\n};\n\nconst storageKey = 'themeKey';\nconst toggle = document.querySelector('.theme__track');\n\nfunction goDark(event) {\n  if (event.target.checked) {\n    refs.bodyEl.classList.remove('ligth-theme');\n    refs.bodyEl.classList.add('dark-theme');\n    // refs.darkTheme.classList.add('goDark');\n    refs.lightTheme.classList.remove('goLight');\n    toggle.classList.add('toggleDark');\n    toggle.classList.remove('toggleLight');\n    localStorage.setItem(storageKey, JSON.stringify(theme.dark));\n  } else {\n    refs.bodyEl.classList.remove('dark-theme');\n    refs.bodyEl.classList.add('ligth-theme');\n    // refs.darkTheme.classList.remove('goDark');\n    refs.lightTheme.classList.add('goLight');\n    toggle.classList.add('toggleLight');\n    toggle.classList.remove('toggleDark');\n    localStorage.setItem(storageKey, JSON.stringify(theme.light));\n  }\n}\n\nfunction goTeal() {\n  const saveTheme = localStorage.getItem(storageKey);\n  if (!saveTheme) {\n    refs.bodyEl.classList.add('ligth-theme');\n    localStorage.setItem(storageKey, JSON.stringify(theme.light));\n  } else {\n    const parseTheme = JSON.parse(saveTheme);\n    if (parseTheme === 'dark-theme') {\n      refs.bodyEl.classList.add('dark-theme');\n      refs.checkBoxEl.checked = true;\n    }\n  }\n}\n","export const refs = {\n  formEl: document.querySelector('.js-form-search'),\n  containerCategoriesEl: document.querySelector('.js-categories'),\n  containerCardEl: document.querySelector('.js-container-card'),\n  weatherCard: document.querySelector('.weather__card'),\n  containerPaginationEl: document.querySelector('.js-pagination'),\n  checkBoxEl: document.querySelector('.theme-switch__toggle'),\n  bodyEl: document.querySelector('body'),\n  dateTimePicker: document.querySelector('#datetime-picker'),\n  calendarWrapper: document.querySelector('.filters-section-calendar-wrapper'),\n  lightTheme: document.querySelector('.light-theme'),\n  darkTheme: document.querySelector('.dark-theme'),\n};\n","import markupCard from './markupCard';\nimport { refs } from './refs';\n//ф-я рендер всих карток новин\nfunction renderNews(paginationPage) {\n  if (!paginationPage || paginationPage?.length === 0) {\n    return;\n  }\n  let cards = paginationPage\n    .map(Data => {\n      return markupCard(Data);\n    })\n    .join('');\n  refs.containerCardEl.insertAdjacentHTML('beforeend', cards);\n}\n// створення карточки без новин\nfunction createCardNotFound() {\n  refs.weatherCard?.classList.add('is-display-none');\n  const card = `<div class=\"not-found-container\"><h1 class=\"not-found-title\">We haven’t found news from <br/> this category</h1>\n  <div class=\"not-found-img\"></div></div>`;\n  refs.containerCardEl.insertAdjacentHTML('beforeend', card);\n}\n//ф-я очистки контейнера новин\nfunction clearMarkupNews() {\n  if (refs.weatherCard?.classList.contains('is-display-none')) {\n    refs.weatherCard?.classList.remove('is-display-none');\n  }\n  if (document.querySelector('.not-found-container')) {\n    document.querySelector('.not-found-container').remove();\n  }\n  const cards = document.querySelectorAll('.js-card');\n  cards.forEach(card => {\n    card.remove();\n  });\n}\n\nexport { renderNews, createCardNotFound, clearMarkupNews };\n","export default function markupCard(card) {\n  const {\n    id_news,\n    photo_url,\n    page_url,\n    section,\n    statusFavorite,\n    title,\n    abstract,\n    published_date,\n  } = card;\n  return `\n    <li data-id-news=\"${id_news}\" class=\"js-card\">\n      <div class=\"use-text-tape\">\n        <span class=\"status-reed\">Have read</span>\n        <span class=\"job-text\">\"${section}\"</span>\n        <button class=\"status-favorite add-status add-status-js\" type=\"button\">${statusFavorite}</button>\n        <button class=\"status-favorite remove-status remove-status-js\" type=\"button\">Remove from favorite</button>\n      <div>\n      <div class=\"card-img-wrapper\">\n      <img class=\"card-img\" src=\"${photo_url}\" alt=\"photo news\" />\n      </div>\n      <a href=\"${page_url}\" target=\"_blank\"><h2 class=\"page-url\">${title}</h2></a>\n      <p class=\"abstract-text\">${abstract}</p>\n      <div>\n        <span class=\"published-date\">${published_date}</span>\n        <a class=\"read-more\" target=\"_blank\" href=\"${page_url}\">Read more</a>\n      </div>\n    </li>\n    `;\n}\n"],"names":["$8MBJY","parcelRequire","$0aa9cd13c14a6e1e$export$2e2bcd8739ae039","default","localStorageService","this","keySavedFilters","FAVORITES_NEWS","PAGINATION_NEWS","CLICKED_PAGES","PAGE_DATA_NEWS","CALENDAR_PARAMETERS","key","value","valueJson","JSON","stringify","localStorage","setItem","error","console","data","getItem","undefined","parse","load","date","filters","loadFilters","selectedDate","save","categories","selectedCategories","join","Object","defineProperty","module","exports","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","$ed7d4f7bc93ce3e6$var$SEARCH_NEWS_URL","$ed7d4f7bc93ce3e6$var$API_KEY","$ed7d4f7bc93ce3e6$export$2e2bcd8739ae039","newsApiService","searchQuery","page","pageNum","requestNum","fetch","concat","then","responce","ok","Error","statusText","json","SEARCH_BY_DATE","SEARCH_BY_CATEGORIES","$4Nugj","$26adcc4345f36f52$export$2e2bcd8739ae039","refs","checkBoxEl","addEventListener","$26adcc4345f36f52$var$goDark","saveTheme","$26adcc4345f36f52$var$storageKey","bodyEl","classList","add","checked","$26adcc4345f36f52$var$theme","$26adcc4345f36f52$var$goTeal","$26adcc4345f36f52$var$toggle","document","querySelector","event","remove","lightTheme","$37e33676934ad046$export$21666b427502ea6d","formEl","containerCategoriesEl","containerCardEl","weatherCard","containerPaginationEl","dateTimePicker","calendarWrapper","darkTheme","$llhWr","$e289e9ca0d298efc$export$df7427830660d8ef","paginationPage","cards","map","Data","insertAdjacentHTML","$e289e9ca0d298efc$export$b140b7e270e2aa2f","ref","$e289e9ca0d298efc$export$c073c4a12a950ae7","ref1","contains","querySelectorAll","forEach","card","$f89979fc2c26965e$export$2e2bcd8739ae039","id_news","photo_url","page_url","section","statusFavorite","title","abstract","published_date"],"version":3,"file":"read.da8821c9.js.map"}